# RapidOCR HKMC Configuration - CPU Only
# This configuration uses CPU for all models (cls, det, rec)
# Best for: Maximum compatibility, systems without NPU/GPU, development/testing
# Requirements: Any x86_64 or ARM64 processor

Global:
    text_score: 0.5
    use_det: true
    use_cls: true
    use_rec: true
    min_height: 30
    width_height_ratio: 8
    max_side_len: 2000
    min_side_len: 30
    return_word_box: false
    return_single_char_box: false
    font_path: null
    log_level: "info"

EngineConfig:
    onnxruntime:
        # CPU Threading Configuration
        intra_op_num_threads: -1              # Auto-detect optimal threads
        inter_op_num_threads: -1              # Auto-detect optimal threads
        enable_cpu_mem_arena: false
        
        # CPU Execution Provider Configuration
        cpu_ep_cfg:
            arena_extend_strategy: "kSameAsRequested"
        
        # Disable GPU acceleration
        use_cuda: false                       # No GPU acceleration
        use_dml: false
        use_cann: false

Cls:
    engine_type: "onnxruntime"                # Use ONNXRuntime with CPU
    lang_type: "ch"
    model_type: "mobile"
    ocr_version: "PP-OCRv4"
    task_type: "cls"
    model_path: null
    model_dir: null
    cls_image_shape: [3, 48, 192]
    cls_batch_num: 6
    cls_thresh: 0.9
    label_list: ["0", "180"]

Det:
    engine_type: "onnxruntime"                # Use ONNXRuntime with CPU
    lang_type: "ch"
    model_type: "mobile"
    ocr_version: "PP-OCRv4"
    task_type: "det"
    model_path: null
    model_dir: null
    limit_side_len: 736
    limit_type: min
    std: [0.5, 0.5, 0.5]
    mean: [0.5, 0.5, 0.5]
    thresh: 0.3
    box_thresh: 0.5
    max_candidates: 1000
    unclip_ratio: 1.6
    use_dilation: true
    score_mode: fast

Rec:
    engine_type: "onnxruntime"                # Use ONNXRuntime with CPU
    lang_type: "ch"
    model_type: "mobile"
    ocr_version: "PP-OCRv4"
    task_type: "rec"
    model_path: null
    model_dir: null
    rec_keys_path: null
    rec_img_shape: [3, 48, 320]
    rec_batch_num: 6

# Benefits of CPU-Only Configuration:
# - Works on any hardware (maximum compatibility)
# - No special drivers or hardware required
# - Predictable performance across systems
# - Good for development and testing
# - Lower memory usage than GPU
#
# Expected Performance (varies by CPU):
# - Cls: 10-30ms per image
# - Det: 50-200ms per image
# - Rec: 20-80ms per batch
# - Full pipeline: 100-300ms per image
#
# Performance Tips:
# - Use faster CPU with more cores for better performance
# - Ensure intra_op_num_threads and inter_op_num_threads are set to -1 (auto)
# - Close other CPU-intensive applications
# - Consider batch processing for better efficiency
#
# When to Use CPU-Only:
# - Development and testing environments
# - Systems without NPU or GPU
# - Docker containers without GPU passthrough
# - Cloud instances without GPU
# - Compatibility testing
# - Low-volume processing scenarios
